<!-- ✨ MODIFIED: The structure is now a full page, not a modal pop-up -->
<div id="savedProjectsContainer" class="saved-projects-container">
    <!-- ✨ ADDED: container class for consistent padding with the header -->
    <div class="container">
        <div class="saved-projects-content card">
            
            <!-- Page Header -->
            <div class="w-full text-center">
                <h2 class="text-3xl font-bold mb-2 text-gray-800 dark:text-e2e8f0">Your Saved Projects</h2>
                <p class="text-gray-600 dark:text-a0aec0 mb-6">Manage and load your previous construction estimates.</p>
            </div>
            
            <!-- Redesigned Filter and Chart Section -->
            <div class="w-full flex flex-col md:flex-row items-start justify-between gap-6 mb-4">
                <!-- Project Totals by Customer Chart -->
                <div class="chart-container-small card w-full md:w-1/3 lg:w-1/4">
                    <h4 class="text-center font-semibold text-gray-800 dark:text-e2e8f0 mb-4">Totals by Customer</h4>
                    <canvas id="customerProjectsPieChart" class="chart-canvas-small"></canvas>
                    <p id="noCustomerDataMessage" class="text-center text-gray-500 italic text-sm mt-2 hidden">No data for chart.</p>
                </div>

                <!-- Filter and Controls -->
                <div class="flex-grow w-full md:w-auto">
                    <div class="card p-6">
                        <label for="customerFilterInput" class="label mb-2">Filter by Customer Name or Project:</label>
                        <input type="text" id="customerFilterInput" class="input-field" placeholder="Search...">
                    </div>
                </div>
            </div>

            <div id="projectsList" class="projects-list">
                <!-- Project cards will be dynamically loaded here by JavaScript -->
            </div>

            <!-- This is the simplified "no projects" message -->
            <p id="noProjectsMessage" class="col-span-full text-center text-gray-500 italic hidden">No saved projects found.</p>

            <!-- Back Button -->
            <div class="flex justify-center mt-4">
                <button id="goToCalculatorBtn" class="btn btn-secondary">← Back to Estimator</button>
            </div>
        </div>
    </div>
</div>

